<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sistema de Retiro â€“ Liceo Bicentenario Ntra. Sra. de Guadalupe</title>

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="https://i.postimg.cc/sxxwfhwK/LOGO-LBSNG-06-237x300.png">

  <!-- TipografÃ­as -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Barlow:wght@300;400;500;600;700&family=Barlow+Condensed:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- Hoja de estilos -->
  <link rel="stylesheet" href="style.css">
</head>

<body>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     HEADER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<header class="site-header">
  <div class="header-inner">
    <img src="https://i.postimg.cc/sxxwfhwK/LOGO-LBSNG-06-237x300.png"
         alt="Logo Liceo Bicentenario"
         class="logo-img"
         onerror="this.style.display='none'">
    <div class="school-info">
      <p class="school-subtitle">LICEO BICENTENARIO</p>
      <h1 class="school-name">Nuestra SeÃ±ora de Guadalupe</h1>
      <p class="school-tagline">Sistema de Retiro de Alumnos Â· Santiago, Chile</p>
    </div>
    <div class="header-badge">
      <span id="current-time">--:--</span>
      <span id="current-date">---</span>
    </div>
  </div>
</header>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     NAVEGACIÃ“N (PestaÃ±as)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<nav class="nav-tabs">
  <div class="nav-tabs-inner">
    <button class="nav-tab active" onclick="showPage('retiro', this)">ğŸ« Retiro de Alumnos</button>
    <button class="nav-tab"        onclick="showPage('informe', this)">ğŸ“Š Informe Mensual</button>
  </div>
</nav>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     PÃGINA: RETIRO DE ALUMNOS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="page active" id="page-retiro">
  <main class="main-container">

    <!-- â”€â”€ Formulario â”€â”€ -->
    <section class="form-panel">
      <div class="panel-header">
        <h2>Generar Ticket de Retiro</h2>
        <div class="panel-indicator"></div>
      </div>

      <form id="ticketForm" novalidate>

        <!-- Datos del Alumno -->
        <fieldset>
          <legend>Datos del Alumno</legend>
          <div class="field-row">
            <div class="field">
              <label for="alumnoNombre">Nombre(s) *</label>
              <input type="text" id="alumnoNombre" placeholder="Nombre del alumno" required>
            </div>
            <div class="field">
              <label for="alumnoApellido">Apellido(s) *</label>
              <input type="text" id="alumnoApellido" placeholder="Apellidos" required>
            </div>
          </div>
          <div class="field-row">
            <div class="field">
              <label for="curso">Curso *</label>
              <select id="curso" required>
                <option value="">-- Seleccionar --</option>
                <optgroup label="EnseÃ±anza BÃ¡sica">
                  <option>1Â° BÃ¡sico A</option><option>1Â° BÃ¡sico B</option>
                  <option>2Â° BÃ¡sico A</option><option>2Â° BÃ¡sico B</option>
                  <option>3Â° BÃ¡sico A</option><option>3Â° BÃ¡sico B</option>
                  <option>4Â° BÃ¡sico A</option><option>4Â° BÃ¡sico B</option>
                  <option>5Â° BÃ¡sico A</option><option>5Â° BÃ¡sico B</option>
                  <option>6Â° BÃ¡sico A</option><option>6Â° BÃ¡sico B</option>
                  <option>7Â° BÃ¡sico A</option><option>7Â° BÃ¡sico B</option>
                  <option>8Â° BÃ¡sico A</option><option>8Â° BÃ¡sico B</option>
                </optgroup>
                <optgroup label="EnseÃ±anza Media">
                  <option>IÂ° Medio A</option><option>IÂ° Medio B</option>
                  <option>IIÂ° Medio A</option><option>IIÂ° Medio B</option>
                  <option>IIIÂ° Medio A</option><option>IIIÂ° Medio B</option>
                  <option>IVÂ° Medio A</option><option>IVÂ° Medio B</option>
                </optgroup>
              </select>
            </div>
            <div class="field">
              <label for="rut">RUT Alumno</label>
              <input type="text" id="rut" placeholder="12.345.678-9" maxlength="12">
            </div>
          </div>
        </fieldset>

        <!-- Motivo de Retiro -->
        <fieldset>
          <legend>Motivo de Retiro</legend>
          <div class="field-row">
            <div class="field">
              <label for="motivo">Motivo *</label>
              <select id="motivo" required>
                <option value="">-- Seleccionar --</option>
                <option>Cita MÃ©dica</option>
                <option>Urgencia MÃ©dica</option>
                <option>Control Dental</option>
                <option>TrÃ¡mite Personal</option>
                <option>Problema Familiar</option>
                <option>Solicitud del Apoderado</option>
                <option>Actividad Deportiva</option>
                <option>Otro</option>
              </select>
            </div>
            <div class="field">
              <label for="motivoDetalle">Detalle (opcional)</label>
              <input type="text" id="motivoDetalle" placeholder="Especificar si es necesario">
            </div>
          </div>
        </fieldset>

        <!-- Apoderado / Responsable -->
        <fieldset>
          <legend>Apoderado / Responsable</legend>
          <div class="field-row">
            <div class="field">
              <label for="apoderadoNombre">Nombre completo *</label>
              <input type="text" id="apoderadoNombre" placeholder="Nombre del apoderado" required>
            </div>
            <div class="field">
              <label for="apoderadoRut">RUT Apoderado</label>
              <input type="text" id="apoderadoRut" placeholder="12.345.678-9" maxlength="12">
            </div>
          </div>
          <div class="field-row">
            <div class="field">
              <label for="parentesco">Parentesco</label>
              <select id="parentesco">
                <option>Madre</option>
                <option>Padre</option>
                <option>Apoderado(a)</option>
                <option>Abuelo/a</option>
                <option>TÃ­o/a</option>
                <option>Hermano/a Mayor</option>
                <option>Otro Familiar</option>
              </select>
            </div>
            <div class="field">
              <label for="telefono">TelÃ©fono</label>
              <input type="tel" id="telefono" placeholder="+56 9 XXXX XXXX">
            </div>
          </div>
        </fieldset>

        <!-- AutorizaciÃ³n -->
        <fieldset>
          <legend>AutorizaciÃ³n</legend>
          <div class="field-row">
            <div class="field">
              <label for="autorizado">Nombre del Docente</label>
              <input type="text" id="autorizado" placeholder="Nombre del docente que autoriza">
            </div>
            <div class="field">
              <label for="funcionario">Asignatura</label>
              <input type="text" id="funcionario" placeholder="Asignatura del docente">
            </div>
          </div>
        </fieldset>

        <!-- Acciones -->
        <div class="form-actions">
          <button type="button" id="btnLimpiar" class="btn btn-secondary">ğŸ—‘ Limpiar</button>
          <button type="submit" id="btnGenerar" class="btn btn-primary">ğŸ–¨ Generar Ticket</button>
        </div>

      </form>
    </section>

    <!-- â”€â”€ Vista Previa â”€â”€ -->
    <section class="preview-panel">
      <div class="panel-header">
        <h2>Vista Previa del Ticket</h2>
        <div class="panel-indicator"></div>
      </div>

      <div class="ticket-wrapper">
        <div id="ticketPreview" class="ticket-empty">
          <div class="empty-state">
            <div class="empty-icon">ğŸ«</div>
            <p>Complete el formulario y presione<br><strong>Generar Ticket</strong> para ver la vista previa</p>
          </div>
        </div>
      </div>

      <!-- Estado Google Sheets -->
      <div id="sheetsStatus" class="sheets-status"></div>

      <!-- Botones de acciÃ³n (se muestran tras generar) -->
      <div class="preview-actions" id="previewActions" style="display:none">
        <button id="btnImprimir" class="btn btn-print">ğŸ–¨ Imprimir Ticket</button>
        <button id="btnNuevo"    class="btn btn-secondary">Nuevo</button>
      </div>

      <!-- EstadÃ­sticas del dÃ­a -->
      <div class="stats-bar">
        <div class="stat">
          <span class="stat-label">Tickets hoy</span>
          <span class="stat-value" id="ticketCount">0</span>
        </div>
        <div class="stat">
          <span class="stat-label">Ãšltimo</span>
          <span class="stat-value" id="lastTicketTime">--:--</span>
        </div>
        <div class="stat">
          <span class="stat-label">NÂ° Folio</span>
          <span class="stat-value" id="currentFolio" style="font-size:0.75rem;margin-top:3px">---</span>
        </div>
      </div>
    </section>

  </main>
</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     PÃGINA: INFORME MENSUAL
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="page" id="page-informe">
  <div class="report-container">

    <!-- Controles de selecciÃ³n -->
    <div class="report-controls">
      <div class="panel-header">
        <h2>ğŸ“Š Informe Mensual de Retiros</h2>
        <div class="panel-indicator"></div>
      </div>
      <div class="report-controls-body">
        <div class="field">
          <label for="reportMes">Mes</label>
          <select id="reportMes">
            <option value="1">Enero</option>
            <option value="2">Febrero</option>
            <option value="3">Marzo</option>
            <option value="4">Abril</option>
            <option value="5">Mayo</option>
            <option value="6">Junio</option>
            <option value="7">Julio</option>
            <option value="8">Agosto</option>
            <option value="9">Septiembre</option>
            <option value="10">Octubre</option>
            <option value="11">Noviembre</option>
            <option value="12">Diciembre</option>
          </select>
        </div>
        <div class="field">
          <label for="reportAnio">AÃ±o</label>
          <select id="reportAnio"></select>
        </div>
        <button class="btn btn-primary"   onclick="generarInforme()">ğŸ” Generar Informe</button>
        <button class="btn btn-secondary" onclick="imprimirInforme()">ğŸ–¨ Imprimir Informe</button>
      </div>
    </div>

    <!-- Contenido dinÃ¡mico del informe -->
    <div id="reportContent">
      <div class="empty-report">
        <div class="empty-icon">ğŸ“Š</div>
        <p>Seleccione un mes y aÃ±o, luego presione <strong>Generar Informe</strong></p>
      </div>
    </div>

  </div>
</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     ÃREA DE IMPRESIÃ“N TÃ‰RMICA (oculta en pantalla)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="printArea" style="display:none"></div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     TOAST (notificaciones flotantes)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="toast" class="toast"></div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     FOOTER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<footer class="site-footer">
  Desarrollado por <strong>Franco</strong>
</footer>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     DEPENDENCIAS Y SCRIPT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- Chart.js (grÃ¡ficos del informe) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
<!-- Script principal -->
<script src="script.js"></script>

</body>
</html>
